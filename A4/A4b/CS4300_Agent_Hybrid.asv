function action = CS4300_Agent_Hybrid(percepts)
% CS4300_A4b - runs the agent brain
% On input:
%   percepts (1x5 Matrix): current percepts
%       - [STENCH, BREEZE, GLITTER, SCREAM, BUMP]
% On output:
%   action (matrix): path agent took through the board
% Call:
%   board = [0,0,0,0;1,2,0,0;0,0,0,0;0,0,3,0]
%   path_taken = CS4300_A4b(board);
% Author:
%   Matthew Lemon
%   UU575787
%   Derek Heldt-Werle
%   UU828479
%   Fall 2016
%

FORWARD = 1;
RIGHT = 2;
LEFT = 3;
SHOOT = 4;
GRAB = 5;
CLIMB = 6;

persistent pits;
persistent wumpus;
persistent board;
persistent agent;
persistent KB;
persistent places;
persistent plan;

if(isempty(pits) || isempty(wumpus) || isempty(board) || isempty(agent)...
        || isempty(KB) || isempty(places) || isempty(plan))
    [pits, wumpus, board, agent, KB, places, plan] = CS4300_Initialize_Persistent_Variables();
end

sentence = CS4300_Make_Percept_Sentence(percepts, agent);
KB = CS4300_Tell(KB, sentence);

if(CS4300_Ask(KB, CS4300_Map_ID(5, agent(1:2)), []) == 1)
  plan = GRAB;
  [so, no] = CS4300_Wumpus_A_star(
end


end

